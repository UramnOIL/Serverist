= Serverist

Kotlin + DDD × クリーンアーキテクチャで作るマイクラ用のサーバーリスト

参考: https://minecraft.jp

== 知見

=== Clean Architecture

==== サーバーサイドとクライアントサイドでUseCaseの共通化は難しい

. サーバーサイドでは全てのユーザーに対してUseCaseが使われるため、IDによってUseCaseがユーザーを識別する必要がある。 クライアントサイドではCookieなどを使って誰であるかを表現するため、UseCaseでIDを使うべきではない。 つまり、UseCaseの引数の統一が困難である。
. また、サーバーサイドとクライアントサイドで必要となるUseCaseやUseCaseのパッケージの場所(CQRSを適用している場合)が異なる。

NOTE: Kotlin Multiplatform Projectの場合、``actual``キーワードを使って引数の設定を先延ばしにできるが、Gradleでサーバーとクライアントのそれぞれでターゲットを変えることが困難であるため現実的ではない。試しにソースセットに``client``と``server``を追加してみたが、ボトムのソースセットに適用しないと注意され、また、別プロジェクトから依存させても追加したソースセットを参照できないため、``actual``キーワードを使った管理方法は断念した。

==== UseCaseの引数にはDTOを使うべき

https://qiita.com/UramnOIL/items/94daff83e1dc85283882